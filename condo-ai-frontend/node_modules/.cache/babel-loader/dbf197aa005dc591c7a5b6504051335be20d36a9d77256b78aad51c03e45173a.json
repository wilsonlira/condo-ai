{"ast":null,"code":"var _jsxFileName = \"/workspaces/condo-ai/condo-ai-frontend/src/components/CadastroComunicados.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CadastroComunicados = () => {\n  _s();\n  const [titulo, setTitulo] = useState(\"\");\n  const [conteudo, setConteudo] = useState(\"\");\n  const [condominioId, setCondominioId] = useState(\"\");\n  const [mensagem, setMensagem] = useState(\"\"); // Mensagem de feedback\n  const [carregando, setCarregando] = useState(false); // Estado de loading\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setCarregando(true);\n    setMensagem(\"\"); // Limpa a mensagem ao iniciar um novo envio\n\n    const novoComunicado = {\n      titulo,\n      conteudo,\n      condominio_id: Number(condominioId) // Garante que seja um número\n    };\n    try {\n      console.log(\"Chamando API em:\", `${process.env.REACT_APP_BACKEND}/comunicados/`);\n      const resposta = await fetch(`${process.env.REACT_APP_BACKEND}/comunicados/`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(novoComunicado)\n      });\n      if (!resposta.ok) {\n        throw new Error(`Erro: ${resposta.status}`);\n      }\n      const data = await resposta.json();\n      console.log(\"Comunicado cadastrado:\", data);\n\n      // Limpar os campos após o sucesso\n      setTitulo(\"\");\n      setConteudo(\"\");\n      setCondominioId(\"\");\n      setMensagem(\"✅ Comunicado cadastrada com sucesso!\");\n    } catch (erro) {\n      console.error(\"Erro ao cadastrar ata:\", erro);\n      setMensagem(\"❌ Erro ao cadastrar ata. Verifique os dados e tente novamente.\");\n    } finally {\n      setCarregando(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto mt-10 p-5 border rounded-lg shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Cadastro de Comunicados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), mensagem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-4 p-2 rounded text-center ${mensagem.includes(\"Erro\") ? \"bg-red-200 text-red-800\" : \"bg-green-200 text-green-800\"}`,\n      children: mensagem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block font-semibold\",\n        children: \"T\\xEDtulo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"w-full p-2 border rounded mt-1 mb-3\",\n        value: titulo,\n        onChange: e => setTitulo(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block font-semibold\",\n        children: \"Conte\\xFAdo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-full p-2 border rounded mt-1 mb-3\",\n        rows: \"4\",\n        value: conteudo,\n        onChange: e => setConteudo(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block font-semibold\",\n        children: \"Condom\\xEDnio ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"w-full p-2 border rounded mt-1 mb-3\",\n        value: condominioId,\n        onChange: e => setCondominioId(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: `px-4 py-2 rounded text-white ${carregando ? \"bg-gray-400\" : \"bg-blue-500 hover:bg-blue-600\"}`,\n        disabled: carregando,\n        children: carregando ? \"Cadastrando...\" : \"Cadastrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(CadastroComunicados, \"eJ9iMDdUKuXbz/+GMHo/6QYDpuQ=\");\n_c = CadastroComunicados;\nexport default CadastroComunicados;\nvar _c;\n$RefreshReg$(_c, \"CadastroComunicados\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","CadastroComunicados","_s","titulo","setTitulo","conteudo","setConteudo","condominioId","setCondominioId","mensagem","setMensagem","carregando","setCarregando","handleSubmit","e","preventDefault","novoComunicado","condominio_id","Number","console","log","process","env","REACT_APP_BACKEND","resposta","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","erro","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","includes","onSubmit","type","value","onChange","target","required","rows","disabled","_c","$RefreshReg$"],"sources":["/workspaces/condo-ai/condo-ai-frontend/src/components/CadastroComunicados.jsx"],"sourcesContent":["import { useState } from \"react\";\n\nconst CadastroComunicados = () => {\n  const [titulo, setTitulo] = useState(\"\");\n  const [conteudo, setConteudo] = useState(\"\");\n  const [condominioId, setCondominioId] = useState(\"\");\n  const [mensagem, setMensagem] = useState(\"\"); // Mensagem de feedback\n  const [carregando, setCarregando] = useState(false); // Estado de loading\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setCarregando(true);\n    setMensagem(\"\"); // Limpa a mensagem ao iniciar um novo envio\n\n    const novoComunicado = {\n      titulo,\n      conteudo,\n      condominio_id: Number(condominioId), // Garante que seja um número\n    };\n\n    try {\n      console.log(\"Chamando API em:\", `${process.env.REACT_APP_BACKEND}/comunicados/`);\n      \n      const resposta = await fetch(`${process.env.REACT_APP_BACKEND}/comunicados/`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(novoComunicado),\n      });\n\n      if (!resposta.ok) {\n        throw new Error(`Erro: ${resposta.status}`);\n      }\n\n      const data = await resposta.json();\n      console.log(\"Comunicado cadastrado:\", data);\n\n      // Limpar os campos após o sucesso\n      setTitulo(\"\");\n      setConteudo(\"\");\n      setCondominioId(\"\");\n      setMensagem(\"✅ Comunicado cadastrada com sucesso!\");\n    } catch (erro) {\n      console.error(\"Erro ao cadastrar ata:\", erro);\n      setMensagem(\"❌ Erro ao cadastrar ata. Verifique os dados e tente novamente.\");\n    } finally {\n      setCarregando(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto mt-10 p-5 border rounded-lg shadow\">\n      <h2 className=\"text-xl font-bold mb-4\">Cadastro de Comunicados</h2>\n\n      {/* Exibir mensagem de sucesso ou erro */}\n      {mensagem && (\n        <div className={`mb-4 p-2 rounded text-center ${mensagem.includes(\"Erro\") ? \"bg-red-200 text-red-800\" : \"bg-green-200 text-green-800\"}`}>\n          {mensagem}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <label className=\"block font-semibold\">Título:</label>\n        <input\n          type=\"text\"\n          className=\"w-full p-2 border rounded mt-1 mb-3\"\n          value={titulo}\n          onChange={(e) => setTitulo(e.target.value)}\n          required\n        />\n\n        <label className=\"block font-semibold\">Conteúdo:</label>\n        <textarea\n          className=\"w-full p-2 border rounded mt-1 mb-3\"\n          rows=\"4\"\n          value={conteudo}\n          onChange={(e) => setConteudo(e.target.value)}\n          required\n        />\n\n        <label className=\"block font-semibold\">Condomínio ID:</label>\n        <input\n          type=\"number\"\n          className=\"w-full p-2 border rounded mt-1 mb-3\"\n          value={condominioId}\n          onChange={(e) => setCondominioId(e.target.value)}\n          required\n        />\n\n        <button\n          type=\"submit\"\n          className={`px-4 py-2 rounded text-white ${carregando ? \"bg-gray-400\" : \"bg-blue-500 hover:bg-blue-600\"}`}\n          disabled={carregando}\n        >\n          {carregando ? \"Cadastrando...\" : \"Cadastrar\"}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default CadastroComunicados;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}